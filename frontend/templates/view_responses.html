<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Responses - {{ form.title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<div class="container">
    <h1>Responses for "{{ form.title }}"</h1>
    <p>{{ form.description }}</p>

    {% if responses %}
        <div class="responses-section">
            {% for question in form.questions %}
                <div class="question-section">
                    <h3>{{ question.text }}</h3>
                    
                    {% set question_responses = responses | selectattr("question_id", "equalto", question.id) %}
                    
                    {% if question_responses | list %}
                        <ul class="responses-list">
                            {% for response in question_responses %}
                                <li>{{ response.answer }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="no-responses">No responses yet for this question.</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-responses">No responses have been submitted for this form.</p>
    {% endif %}
</div>

</body>
</html>
